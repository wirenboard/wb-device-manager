# wb-device-manager

Структура данных в топике списка устройств:

```jsonc
{
    // сервис выполняет сканирование портов
    "scanning": true,

    // список устройств
    "devices" : [
        {
            // тип устройства
            "type": "MR6C",

            // серийный номер устройства
            "serial": "13453ghh",

            // устройство доступно и отвечает на запросы
            "online": true,

            // устройство опрашивается через wb-mqtt-serial
            "poll": true,

            // устройство в режиме загрузчика
            "in_bootloader": true,

            // текст последней ошибки при работе с устройством
            "error": "Error message",

            // порт, к которому подключено устройство
            "port": {

                // системный путь до устройства порта
                "path": "/dev/ttyRS485-2"
            },

            // текущие настройки устройства
            "cfg": {
                // адрес
                "slave_id": 100,

                // скорость шины
                "baud_rate": 9600,

                // чётность
                "parity": "N",

                // число бит данных
                "data_bits": 8,

                // число стоп бит
                "stop_bits": 2
            },

            // прошивка устройства
            "fw": {
                // версия
                "version": "1.2.3",

                "update": {
                    // процент завершения процесса обновления прошивки
                    "progress": 50,

                    // текст последней ошибки обновления прошивки
                    "error": "Error message",

                    // Актуальная версия прошивки
                    "available_fw": "2.2.2"
                }
            }
        },
        ...
    ]
}
```